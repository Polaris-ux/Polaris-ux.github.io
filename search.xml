<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>äºŒå‰æœç´¢æ•°æ•°é‡</title>
      <link href="/2021/08/03/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%95%B0%E6%95%B0%E9%87%8F/"/>
      <url>/2021/08/03/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%95%B0%E6%95%B0%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h4 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code> ï¼Œæ±‚æ°ç”± <code>n</code> ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä» <code>1</code> åˆ° <code>n</code> äº’ä¸ç›¸åŒçš„ <strong>äºŒå‰æœç´¢æ ‘</strong> æœ‰å¤šå°‘ç§ï¼Ÿè¿”å›æ»¡è¶³é¢˜æ„çš„äºŒå‰æœç´¢æ ‘çš„ç§æ•°</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><img src="/2021/08/03/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%95%B0%E6%95%B0%E9%87%8F/uniquebstn3.jpg" class title="img"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= n &lt;= 19</code></li></ul><h4 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æ€è·¯ä¸€ï¼š</p><p>çœ‹åˆ°è¿™é“é¢˜ç›®çš„ç¬¬ä¸€ä¸ªå¿µå¤´æ˜¯ç”¨æ•°å­¦å…¬å¼ç›´æ¥è¿›è¡Œè®¡ç®—ï¼ˆåé¢ç¡®å®ä¹Ÿæ˜¯é€šè¿‡å…¬å¼è®¡ç®—é€šè¿‡ï¼‰ï¼Œå› ä¸ºåœ¨æ•°æ®ç»“æ„è¿™é—¨è¯¾ä¸Šï¼Œæ›¾è®²è¿‡è¿™ä¸ªè®¡ç®—äºŒå‰æ ‘ç§ç±»çš„å…¬å¼ï¼Œæ‰€ä»¥è‡ªç„¶è€Œç„¶çš„æƒ³åˆ°äº†ç”¨å…¬å¼è§£å†³é—®é¢˜ã€‚ï¼ˆä½†æ„Ÿè§‰è‡ªå·±è¿˜æ˜¯ç¼ºä¹æ€è€ƒï¼Œæ²¡èƒ½æƒ³åˆ°ç”¨åŠ¨æ€è§„åˆ’ğŸ˜€ï¼‰</p><p><strong>å¡å¡”å…°æ•°å…¬å¼ï¼š</strong><br>$$<br>C0=1,Cn+1=2(2n+1)Cn/n+2<br>$$<br>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ—¶éœ€è¦æ³¨æ„ç±»å‹è¦ä½¿ç”¨longï¼Œ<strong>ä¸ç„¶ä¼šæº¢å‡ºï¼Œä»è€Œå¯¼è‡´é”™è¯¯ç­”æ¡ˆ</strong></p><p>ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public int <span class="function"><span class="title">numTrees</span>(<span class="params">int n</span>)</span> &#123;</span><br><span class="line">    long num2=<span class="number">1</span>;</span><br><span class="line">    int temp=<span class="number">2</span>*n;</span><br><span class="line">    int temp1=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>,j=<span class="number">1</span>; i &lt;n &amp;&amp;j&lt;=n; i++,j++) &#123;</span><br><span class="line">        num2*=temp;</span><br><span class="line">        <span class="keyword">if</span>(num2%j==<span class="number">0</span>)&#123;</span><br><span class="line">            num2=num2/j;</span><br><span class="line">            temp1=<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            temp1*=j;</span><br><span class="line">        &#125;</span><br><span class="line">        temp--;</span><br><span class="line">    &#125;</span><br><span class="line">    long sum=num2/(temp1*(n+<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//        long C = 1;</span></span><br><span class="line">    <span class="comment">//        for (int i = 0; i &lt; n; ++i) &#123;</span></span><br><span class="line">    <span class="comment">//            C = C * 2 * (2 * i + 1) / (i + 2);</span></span><br><span class="line">    <span class="comment">//        &#125;</span></span><br><span class="line">    <span class="comment">//        return (int) C;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (int)sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯äºŒï¼š</strong></p><p>åŠ¨æ€è§„åˆ’è§£å†³ï¼šå°†ä¸€é¢—äºŒå‰æœç´¢æ ‘ï¼Œåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œè€Œæ¯ä¸ªä¸åŒçš„æ ¹èŠ‚ç‚¹ï¼Œæ‰€èƒ½æ„æˆçš„äºŒå‰æœç´¢æ ‘ç§æ•°ä¸ºå·¦å­æ ‘æ„æˆäºŒå‰æœç´¢æ•°çš„ç§ç±» * å³å­æ ‘æ„æˆäºŒå‰æœç´¢æ ‘çš„ç§ç±»</p><p><strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</strong><br>$$<br>dp[i]=sum(dp[i-j]*dp[j-1])<br>i=1 â€¦ n<br>$$<br>iä¸ºå½“å‰çš„èŠ‚ç‚¹ä¸ªæ•°</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees1</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//n==0æ—¶ï¼Œdp[n]=1;n==1æ—¶,dp[n]=1</span></span><br><span class="line">        <span class="keyword">int</span>[] dp=<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;=n ; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;=i; j++) &#123;</span><br><span class="line">                dp[i]+=dp[i-j]*dp[j-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ¨æ€è§„åˆ’,äºŒå‰æœç´¢æ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“è¿æ¥æ¨¡æ¿</title>
      <link href="/2021/07/31/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%A8%A1%E6%9D%BF/"/>
      <url>/2021/07/31/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%A8%A1%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h3 id="ä»propertiesæ–‡ä»¶ä¸­è¯»å–mysqlé…ç½®ä¿¡æ¯ï¼Œç¼–å†™JDBCUtils"><a href="#ä»propertiesæ–‡ä»¶ä¸­è¯»å–mysqlé…ç½®ä¿¡æ¯ï¼Œç¼–å†™JDBCUtils" class="headerlink" title="ä»propertiesæ–‡ä»¶ä¸­è¯»å–mysqlé…ç½®ä¿¡æ¯ï¼Œç¼–å†™JDBCUtils"></a>ä»propertiesæ–‡ä»¶ä¸­è¯»å–mysqlé…ç½®ä¿¡æ¯ï¼Œç¼–å†™JDBCUtils</h3><h4 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h4><p>jdbc.properties</p><p>æ—¶åŒºè®¾ç½®ï¼š<code>Asia/Shanghai</code></p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">mjy600811</span></span><br><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/girls?useSSL=false&amp;serverTimezone=GMT%2B8&amp;useUnicode=true&amp;characterEncoding=utf-8</span></span><br></pre></td></tr></table></figure><h4 id="JDBCUtils-java"><a href="#JDBCUtils-java" class="headerlink" title="JDBCUtils.java"></a>JDBCUtils.java</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException, SQLException </span>&#123;</span><br><span class="line">        InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line">        Properties prop=<span class="keyword">new</span> Properties();</span><br><span class="line">        prop.load(is);</span><br><span class="line">        String username = prop.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password = prop.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        String url = prop.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        String driver = prop.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">        Class.forName(driver);</span><br><span class="line">        Connection conn = DriverManager.getConnection(url, username, password);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">closeSource</span><span class="params">(Connection conn, PreparedStatement pre, ResultSet rs)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(rs!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pre!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                pre.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(conn!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                conn.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> Javaåç«¯ </category>
          
          <category> mysqlè¿æ¥ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql,æ¨¡æ¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jspç½‘ç«™ç™»å½•ï¼ˆç®€æ˜“ï¼‰</title>
      <link href="/2021/07/31/jsp%E7%BD%91%E7%AB%99%E7%99%BB%E5%BD%95%EF%BC%88%E7%AE%80%E6%98%93%EF%BC%89/"/>
      <url>/2021/07/31/jsp%E7%BD%91%E7%AB%99%E7%99%BB%E5%BD%95%EF%BC%88%E7%AE%80%E6%98%93%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p><strong>å®ç°åŠŸèƒ½</strong>ï¼š</p><p>å®ç°ä¸€ä¸ªç®€æ˜“çš„ç½‘ç«™ç™»å½•è®¿é—®é¡µé¢ï¼šé¡µé¢åªæœ‰åœ¨ç™»å½•çš„æ—¶å€™æ‰èƒ½è®¿é—®ï¼Œè‹¥æœªç™»å½•æ— æ³•è®¿é—®ã€‚</p><p><strong>ä¸»è¦çŸ¥è¯†ç‚¹ï¼š</strong></p><ul><li>jspè·³è½¬ã€servlet</li><li>filterè¿‡æ»¤å™¨</li></ul><h4 id="ç¯å¢ƒä¾èµ–"><a href="#ç¯å¢ƒä¾èµ–" class="headerlink" title="ç¯å¢ƒä¾èµ–"></a>ç¯å¢ƒä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Jstlè¡¨è¾¾å¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>standard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>LoginServlet.Java</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        String us=(String)session.getAttribute(<span class="string">&quot;USER_SESSION&quot;</span>);</span><br><span class="line">        System.out.println(us);</span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å¦ç™»å½•ï¼šè‹¥ç™»å½•åˆ™ç›´æ¥è·³è½¬åˆ°é¡µé¢</span></span><br><span class="line">        <span class="keyword">if</span>(us==<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;admin&quot;</span>.equals(req.getParameter(<span class="string">&quot;username&quot;</span>)))&#123;</span><br><span class="line">                session.setAttribute(<span class="string">&quot;USER_SESSION&quot;</span>, session.getId());</span><br><span class="line">                resp.sendRedirect(<span class="string">&quot;/filter/turnto/success.jsp&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                resp.sendRedirect(<span class="string">&quot;/filter/error/mistake.jsp&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;/filter/turnto/success.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>LogoutServlet.java</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogoutServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        session.removeAttribute(<span class="string">&quot;USER_SESSION&quot;</span>);</span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;/filter/login/login.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>RequestFilter.java</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RequestFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        HttpServletRequest req = (HttpServletRequest) request;</span><br><span class="line">        HttpServletResponse resp=(HttpServletResponse) response;</span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        <span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;USER_SESSION&quot;</span>)==<span class="keyword">null</span>)&#123;</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;/filter/login/login.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        chain.doFilter(request,response);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>login.jsp</p><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;ç™»å½•ç•Œé¢&lt;/h1&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/filter/servlet/login&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>success.jsp</p><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;æ¬¢è¿æ‚¨ï¼Œä½¿ç”¨æœ¬äº§å“&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;../index.jsp&quot;</span>&gt;é¦–é¡µ&lt;/a&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;../servlet/logout&quot;</span> methods=<span class="string">&quot;get&quot;</span>&gt;æ³¨é”€&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>index.jsp</p><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;ä¸»é¡µ&lt;/h1&gt;</span><br><span class="line">&lt;div id=<span class="string">&quot;login&quot;</span>&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;/filter/login/login.jsp&quot;</span>&gt;ç™»å½•&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>web.xmlä¸­é…ç½®è¿‡æ»¤å™¨ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>RequestFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.mjy.filter.RequestFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>RequestFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/turnto/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> Javaåç«¯ </category>
          
          <category> Javaweb </category>
          
          <category> jsp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç™»å½•è¿‡ç¨‹,filter,jsp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ€å¤§å­åºåˆ—å’Œ</title>
      <link href="/2021/07/27/%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%88%97%E5%92%8C/"/>
      <url>/2021/07/27/%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%88%97%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<h4 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h4><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4]</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼šè¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6 ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0]</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹4ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-1]</span><br><span class="line">è¾“å‡ºï¼š-1</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹5ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-100000]</span><br><span class="line">è¾“å‡ºï¼š-100000</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 3 * 104</code></li><li><code>-105 &lt;= nums[i] &lt;= 105</code></li></ul><p><strong>è¿›é˜¶ï¼š</strong>å¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º <code>O(n)</code> çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„ <strong>åˆ†æ²»æ³•</strong> æ±‚è§£ã€‚</p><p><strong>æ€è·¯ï¼š</strong></p><p>åŠ¨æ€è§„åˆ’ï¼šæ ¹æ®é¢˜ç›®ä¸­çš„æ¡ä»¶æ¨å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹</p><p><code>dp[i]=max(dp[i-1]+nums[i],nums[i])</code></p><p>åŠå¯¹å½“å‰å…ƒç´ åˆ¤æ–­ä¹‹å‰çš„å­åºåˆ—å’Œæ˜¯å¦å¯¹å…¶æœ‰å¢ç›Šï¼Œè‹¥æœ‰å¢ç›Šåˆ™dp[i-1]+nums[i];å¦‚æ— å¢ç›Šï¼Œåˆ™ç­‰äºè‡ªèº«çš„å€¼</p><h4 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//çŠ¶æ€è½¬ä¹‰æ–¹ç¨‹max(dp[i-1]+nums[i],nums[i])ï¼šåˆ¤æ–­dp[i]å¯¹nums[i]æ˜¯å¦æ˜¯è´Ÿå¢ç›Šï¼Œè‹¥ä¸ºè´Ÿå¢ç›Šåˆ™é‡ç½®dp[i]çš„å€¼</span></span><br><span class="line">        <span class="comment">//è‡ªå·±çš„é”™è¯¯æ€è·¯ï¼šè€ƒè™‘çš„æ˜¯nums[i]å¯¹dp[i]æ˜¯å¦æœ‰å¢ç›Šå¯¼è‡´çŠ¶æ€è½¬ç§»æ–¹ç¨‹å‡ºé”™</span></span><br><span class="line">        <span class="keyword">int</span>[] dp=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> max=nums[<span class="number">0</span>];</span><br><span class="line">        dp[<span class="number">0</span>]=nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            dp[i]=Math.max(dp[i-<span class="number">1</span>]+nums[i],nums[i]);</span><br><span class="line">            max=max&gt;dp[i]? max:dp[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°ç»„,åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavawebéªŒè¯ç </title>
      <link href="/2021/07/27/Javaweb%E9%AA%8C%E8%AF%81%E7%A0%81/"/>
      <url>/2021/07/27/Javaweb%E9%AA%8C%E8%AF%81%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h4 id="åç«¯å®ç°éªŒè¯ç ç”Ÿæˆä»£ç ï¼š"><a href="#åç«¯å®ç°éªŒè¯ç ç”Ÿæˆä»£ç ï¼š" class="headerlink" title="åç«¯å®ç°éªŒè¯ç ç”Ÿæˆä»£ç ï¼š"></a>åç«¯å®ç°éªŒè¯ç ç”Ÿæˆä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VerificationServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//è®©æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;refresh&quot;</span>,<span class="string">&quot;4&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾ç‰‡</span></span><br><span class="line">        BufferedImage image = <span class="keyword">new</span> BufferedImage(<span class="number">80</span>, <span class="number">30</span>, BufferedImage.TYPE_INT_RGB);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¾—åˆ°å›¾ç‰‡</span></span><br><span class="line">        Graphics2D graphics = (Graphics2D) image.getGraphics();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">        graphics.setColor(Color.cyan);</span><br><span class="line">        graphics.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">80</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç»™å›¾ç‰‡å†™æ•°æ®</span></span><br><span class="line">        graphics.setColor(Color.green);</span><br><span class="line">        graphics.setFont(<span class="keyword">new</span> Font(<span class="keyword">null</span>,Font.CENTER_BASELINE,<span class="number">20</span>));</span><br><span class="line">        graphics.drawString(createRandomNum(),<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªè¯·æ±‚ç”¨å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;image/jpeg&quot;</span>);</span><br><span class="line">        <span class="comment">//ç½‘ç«™å­˜åœ¨ç¼“å­˜ï¼Œä¸è®©æµè§ˆå™¨ç¼“å­˜</span></span><br><span class="line">        resp.setDateHeader(<span class="string">&quot;expires&quot;</span>,-<span class="number">1</span>);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;Cache-Control&quot;</span>,<span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;Pragma&quot;</span>,<span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span></span><br><span class="line">        ImageIO.write(image,<span class="string">&quot;jpg&quot;</span>,resp.getOutputStream());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–éšæœºæ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">createRandomNum</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        String s = random.nextInt(<span class="number">9999</span>) + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        StringBuilder sbl = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span> - s.length(); i++) &#123;</span><br><span class="line">            sbl.append(<span class="string">&quot;&quot;</span>+random.nextInt(<span class="number">9</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sbl.toString()+s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> Javaåç«¯ </category>
          
          <category> Javaweb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> servlet,æ•°å­—éªŒè¯ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javawebæ–‡ä»¶ä¸‹è½½</title>
      <link href="/2021/07/27/Javaweb%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"/>
      <url>/2021/07/27/Javaweb%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸‹è½½æ–‡ä»¶æ­¥éª¤"><a href="#ä¸‹è½½æ–‡ä»¶æ­¥éª¤" class="headerlink" title="ä¸‹è½½æ–‡ä»¶æ­¥éª¤"></a>ä¸‹è½½æ–‡ä»¶æ­¥éª¤</h4><ul><li>è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„</li><li>ä¸‹è½½çš„æ–‡ä»¶å</li><li>è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</li><li>åˆ›å»ºç¼“å†²åŒº</li><li>è·å–OutputStreamå¯¹è±¡</li><li>å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒºä¸­</li><li>ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºçš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯</li></ul><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownloadFileServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//è·å–ServletContext</span></span><br><span class="line">        ServletContext context = <span class="keyword">this</span>.getServletContext();</span><br><span class="line">        <span class="comment">//è·å–æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">        String realPath =<span class="string">&quot;D:\\JavaLearn\\project\\Javaweb\\Javawebcode1\\httpServletResponse\\target\\classes\\img\\é»‘è‰².jpg&quot;</span>;</span><br><span class="line">        System.out.println(realPath);</span><br><span class="line">        <span class="comment">//è·å–æ–‡ä»¶å</span></span><br><span class="line">        String filename = realPath.substring(realPath.lastIndexOf(<span class="string">&quot;\\&quot;</span>)+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒï¼ˆContent-Dispositionï¼‰ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿,ä¸­æ–‡æ–‡ä»¶åéœ€è¦ä½¿ç”¨URLEncoderç¼–ç ï¼Œå¦åˆ™æœ‰å¯èƒ½ä¹±ç </span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+ URLEncoder.encode(filename,<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">        <span class="comment">//è·å–æ–‡ä»¶è¾“å…¥æµ</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(realPath);</span><br><span class="line">        <span class="comment">//è·å–è¾“å‡ºæµ</span></span><br><span class="line">        ServletOutputStream os = resp.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºç¼“å†²åŒº</span></span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] arr=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>((len=fis.read(arr))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            os.write(arr,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å…³é—­è¾“å…¥è¾“å‡ºæµ</span></span><br><span class="line">        os.close();</span><br><span class="line">        fis.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> Javaåç«¯ </category>
          
          <category> Javaweb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ä»¶ä¸Šä¼ ,servlet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaé¢è¯•é¢˜</title>
      <link href="/2021/07/26/Java%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
      <url>/2021/07/26/Java%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p><strong>è¯·ä½ è°ˆè°ˆç½‘ç«™æ˜¯å¦‚ä½•è¿›è¡Œè®¿é—®çš„ï¼š</strong></p><ol><li>åœ¨æµè§ˆå™¨è¾“å…¥åŸŸåï¼šå›è½¦</li><li>æµè§ˆå™¨ä¼šæŸ¥æ‰¾æœ¬æœºçš„<strong>C:\Windows\System32\drivers\etc</strong>ç›®å½•ä¸‹çš„<strong>hostsæ–‡ä»¶</strong>ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªåŸŸåçš„æ˜ å°„<ul><li>æœ‰ï¼šè·å–å¯¹åº”çš„ipåœ°å€ï¼Œé€šè¿‡è¿™ä¸ªipï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°æƒ³è¦è®¿é—®çš„webç¨‹åº</li><li>æ²¡æœ‰ï¼šå»DNSåŸŸåè§£ææœåŠ¡å™¨ä¸­æ‰¾æ˜¯å¦å­˜åœ¨è¾“å…¥åŸŸåï¼Œè‹¥æ‰¾åˆ°ï¼Œåˆ™è¿”å›ipå¹¶å¯¹è¯¥ipè¿›è¡Œè®¿é—®ï¼›è‹¥æ²¡æ‰¾åˆ°ï¼Œå°±è¿”å›æœªæ‰¾åˆ°</li></ul></li></ol><p><strong>å½“æµè§ˆå™¨ä¸­åœ°å€æ è¾“å…¥åœ°å€å¹¶å›è½¦çš„ä¸€ç¬é—´åˆ°é¡µé¢èƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ¥ï¼Œç»å†äº†ä»€ä¹ˆï¼Ÿ</strong></p><p>ä½œä¸ºå®¢æˆ·ç«¯ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°åœ°å€ä¹‹åï¼Œé¦–å…ˆä¼šåˆ°windowsç³»ç»Ÿæ–‡ä»¶hostsä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰éœ€è¦åŠ«æŒçš„ipåœ°å€ï¼Œè‹¥æ²¡æœ‰åˆ™éœ€è¦è¯¢é—®DNSåŸŸåè§£ææœåŠ¡å™¨è¯¥åŸŸåå¯¹åº”çš„ipåœ°å€ã€‚ï¼ˆDNSç¼“å­˜ï¼‰<br>æµè§ˆå™¨ç¼“å­˜ï¼Œç³»ç»Ÿç¼“å­˜ï¼Œè·¯ç”±å™¨ç¼“å­˜ï¼ŒIPSæœåŠ¡å™¨ç¼“å­˜ï¼Œæ ¹åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œé¡¶çº§åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œä¸»åŸŸåæœåŠ¡å™¨ç¼“å­˜</p><p>è·å–åˆ°æ­£ç¡®çš„ipåœ°å€åï¼Œå®¢æˆ·ç«¯ä¼šä¸æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼Œï¼ˆç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ï¼‰</p><p>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼ŒåŒ…å«è¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€è¯·æ±‚æ­£æ–‡ã€‚å¤šç§è¯·æ±‚æ–¹å¼ï¼ˆGETï¼ŒPOSTã€PUTç­‰ï¼‰</p><p>æœåŠ¡ç«¯å¤„ç†è¯·æ±‚ï¼Œå¹¶è¿”å›å“åº”ï¼ŒåŒ…å«çŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“</p><p>æµè§ˆå™¨æ”¶åˆ°å“åº”ï¼Œè§£ææ¸²æŸ“é¡µé¢ï¼Œå±•ç¤ºå‡ºæ¥</p><p>æ–­å¼€è¿æ¥ï¼ˆhttp1.0çŸ­è¿æ¥ï¼Œhttp1.1é•¿è¿æ¥ï¼‰</p><p><strong>è¯·ä½ èŠèŠé‡å®šå‘ä¸è½¬å‘çš„åŒºåˆ«ï¼š</strong></p><img src="/2021/07/26/Java%E9%9D%A2%E8%AF%95%E9%A2%98/image-20210727000815878.png" class title="image-20210727000815878"><p>ç›¸åŒç‚¹ï¼š</p><ul><li>éƒ½èƒ½å®ç°é¡µé¢è·³è½¬</li></ul><p>ä¸åŒç‚¹ï¼š</p><ul><li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurlä¸ä¼šå‘ç”Ÿå˜åŒ–</li><li>é‡å®šå‘çš„æ—¶å€™ï¼Œurlåœ°å€æ ä¼šå‘ç”Ÿå˜åŒ–</li><li>é‡å®šå‘éœ€è¦ä¸¤æ¬¡è¯·æ±‚ï¼Œè¯·æ±‚è½¬å‘éœ€è¦ä¸€æ¬¡è¯·æ±‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> Java </category>
          
          <category> Javaé¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢è¯•,Javaweb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…¨æ’åˆ—</title>
      <link href="/2021/07/25/%E5%85%A8%E6%8E%92%E5%88%97/"/>
      <url>/2021/07/25/%E5%85%A8%E6%8E%92%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h4 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h4><p>ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ <code>nums</code> ï¼Œè¿”å›å…¶ <strong>æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—</strong> ã€‚ä½ å¯ä»¥ <strong>æŒ‰ä»»æ„é¡ºåº</strong> è¿”å›ç­”æ¡ˆã€‚</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,3]</span><br><span class="line">è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0,1]</span><br><span class="line">è¾“å‡ºï¼š[[0,1],[1,0]]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1]</span><br><span class="line">è¾“å‡ºï¼š[[1]]</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 6</code></li><li><code>-10 &lt;= nums[i] &lt;= 10</code></li><li><code>nums</code> ä¸­çš„æ‰€æœ‰æ•´æ•° <strong>äº’ä¸ç›¸åŒ</strong></li></ul><h4 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h4><p>è¿™ä¸ªé¢˜ç›®æ„æ€å¾ˆç®€å•æ˜“æ‡‚ï¼Œå°±æ˜¯è·å–æ‰€ç»™æ•°ç»„çš„æ‰€æœ‰çš„æ’åˆ—æ–¹å¼ï¼Œæ³¨æ„è¿™é‡Œ<strong>çš„æ‰€æœ‰</strong>ï¼ŒåŸºæœ¬ä¸Šæ¶‰åŠåˆ°æ±‚â€æ‰€æœ‰â€çš„é¢˜ç›®éƒ½èƒ½é€šè¿‡å›æº¯æ³•è§£å†³</p><p>è¯ä¸å¤šè¯´ï¼Œè´´ä»£ç </p><h4 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å›æº¯æ³•ï¼ˆä¸€èˆ¬æ±‚æ‰€æœ‰æƒ…å†µä¸‹ï¼Œå›æº¯æ³•ï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FullPermutation</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FullPermutation test=<span class="keyword">new</span> FullPermutation();</span><br><span class="line">        <span class="keyword">int</span>[] arr=<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        System.out.println(test.permute(arr));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line"></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Deque&lt;Integer&gt; deque=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªæ ‡è®°æ•°ç»„ï¼Œæ ‡è®°è¯¥å…ƒç´ æ˜¯å¦å·²ç»ä½¿ç”¨è¿‡</span></span><br><span class="line">        <span class="keyword">int</span>[] flag=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        backtrack(nums,list,<span class="number">0</span>,deque,flag);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›æº¯</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span>[] nums,List&lt;List&lt;Integer&gt;&gt; list,<span class="keyword">int</span> index,Deque&lt;Integer&gt; deque,<span class="keyword">int</span>[] flag)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(index==nums.length)&#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> ArrayList&lt;&gt;(deque));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(flag[i]==<span class="number">0</span>)&#123;</span><br><span class="line">                deque.addLast(nums[i]);</span><br><span class="line">                flag[i]=<span class="number">1</span>;</span><br><span class="line">                backtrack(nums,list,index+<span class="number">1</span>,deque,flag);</span><br><span class="line">                deque.removeLast();</span><br><span class="line">                flag[i]=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³•,leetcode,å›æº¯æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HBaseç®€å•å­¦ä¹ </title>
      <link href="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/"/>
      <url>/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="Hbaseç®€å•è®°å½•"><a href="#Hbaseç®€å•è®°å½•" class="headerlink" title="Hbaseç®€å•è®°å½•"></a>Hbaseç®€å•è®°å½•</h1><h3 id="ç®€ä»‹ï¼š"><a href="#ç®€ä»‹ï¼š" class="headerlink" title="ç®€ä»‹ï¼š"></a>ç®€ä»‹ï¼š</h3><p>Hbaseæ˜¯ä¸€ä¸ªå¼€æºçš„ã€åˆ†å¸ƒå¼çš„ã€ç‰ˆæœ¬åŒ–çš„éå…³ç³»å‹æ•°æ®åº“ï¼Œå®ƒåˆ©ç”¨Hadoopåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ˆHDFSï¼‰æä¾›åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨ã€‚</p><p>HBaseæ˜¯ä¸€ä¸ªå¯ä»¥è¿›è¡Œéšæœºè®¿é—®çš„å­˜å–å’Œæ£€ç´¢æ•°æ®çš„å­˜å‚¨å¹³å°ï¼Œå­˜å‚¨ç»“æ„åŒ–å’ŒåŠç»“æ„åŒ–çš„æ•°æ®ï¼Œå› æ­¤ä¸€èˆ¬çš„ç½‘ç«™å¯ä»¥å°†ç½‘é¡µå†…å®¹å’Œæ—¥å¿—ä¿¡æ¯éƒ½å­˜åœ¨HBaseé‡Œã€‚</p><p>å¦‚æœæ•°æ®é‡ä¸æ˜¯éå¸¸åºå¤§ï¼ŒHBaseç”šè‡³å¯ä»¥å­˜å‚¨éç»“æ„åŒ–çš„æ•°æ®ã€‚å®ƒä¸è¦æ±‚æ•°æ®æœ‰é¢„å®šä¹‰çš„æ¨¡å¼ï¼Œå…è®¸åŠ¨æ€å’Œçµæ´»çš„æ•°æ®æ¨¡å‹ï¼Œä¹Ÿä¸é™åˆ¶å­˜å‚¨æ•°æ®çš„ç±»å‹ã€‚</p><p>HBaseæ˜¯éå…³ç³»å‹æ•°æ®åº“ï¼Œå®ƒä¸å…·å¤‡å…³ç³»å‹æ•°æ®åº“çš„ä¸€äº›ç‰¹ç‚¹ï¼Œä¾‹å¦‚ï¼Œå®ƒä¸æ”¯æŒSQLçš„è·¨è¡Œäº‹åŠ¡ï¼Œä¹Ÿä¸è¦æ±‚æ•°æ®ä¹‹é—´æœ‰ä¸¥æ ¼çš„å…³ç³»ï¼ŒåŒæ—¶å®ƒå…è®¸åœ¨åŒä¸€åˆ—çš„ä¸åŒè¡Œä¸­å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®ã€‚</p><p>HBaseæ˜¯éæƒ¯æ€§å‹æ•°æ®åº“ï¼Œå®ƒä¸å…·å¤‡å…³ç³»å‹æ•°æ®åº“çš„ä¸€äº›ç‰¹ç‚¹ï¼Œæ˜¯è¢«è®¾è®¡æˆåœ¨ä¸€ä¸ªæœåŠ¡å™¨é›†ç¾¤ä¸Šè¿è¡Œçš„ã€‚</p><h4 id="HBaseçš„ç‰¹ç‚¹ï¼š"><a href="#HBaseçš„ç‰¹ç‚¹ï¼š" class="headerlink" title="HBaseçš„ç‰¹ç‚¹ï¼š"></a>HBaseçš„ç‰¹ç‚¹ï¼š</h4><ul><li><p>å®¹é‡å·¨å¤§</p><p>HBaseçš„å•è¡¨å¯ä»¥æœ‰ç™¾äº¿è¡Œï¼Œç™¾ä¸‡åˆ—ï¼Œå¯ä»¥åœ¨æ¨ªå‘å’Œçºµå‘ä¸¤ä¸ªç»´åº¦æ’å…¥æ•°æ®ï¼Œå…·æœ‰å¾ˆå¤§çš„å¼¹æ€§</p><p>å½“å…³ç³»å‹æ•°æ®åº“çš„å•ä¸ªè¡¨çš„è®°å½•åœ¨äº¿çº§æ—¶ï¼ŒæŸ¥è¯¢å’Œå†™å…¥çš„æ€§èƒ½éƒ½ä¼šå‘ˆç°æŒ‡æ•°çº§ä¸‹é™ï¼Œè¿™ç§åºå¤§çš„æ•°æ®é‡å¯¹ä¼ ç»Ÿæ•°æ®åº“æ¥è¯´æ˜¯ä¸€ç§ç¾éš¾ï¼Œè€ŒHBaseåœ¨é™å®šæŸä¸ªåˆ—çš„æƒ…å†µä¸‹å¯¹äºå•è¡¨å­˜å‚¨ç™¾äº¿ç”šè‡³æ›´å¤šçš„æ•°æ®éƒ½æ²¡æœ‰æ€§èƒ½é—®é¢˜</p><p>HBaseé‡‡ç”¨LSMæ ‘ä½œä¸ºå†…éƒ¨æ•°æ®å­˜å‚¨ç»“æ„ï¼Œè¿™ç§ç»“æ„ä¼šå‘¨æœŸæ€§åœ°å°†è¾ƒå°æ–‡ä»¶åˆæˆå¤§æ–‡ä»¶ï¼Œä»¥å‡å°‘å¯¹ç£ç›˜çš„è®¿é—®</p></li><li><p>åˆ—å­˜å‚¨</p><p>è¡Œå­˜å‚¨çš„ä¸€å¼ è¡¨çš„æ•°æ®éƒ½æ”¾åœ¨ä¸€èµ·ï¼Œä½†åœ¨åˆ—å­˜å‚¨é‡Œæ˜¯æŒ‰ç…§åˆ—åˆ†å¼€ä¿å­˜çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿›è¡Œæ•°æ®çš„æ’å…¥å’Œæ›´æ–°ï¼Œè¡Œå­˜å‚¨ä¼šç›¸å¯¹å®¹æ˜“ã€‚è€Œè¿›è¡Œè¡Œå­˜å‚¨æ—¶ï¼ŒæŸ¥è¯¢æ“ä½œéœ€è¦è¯»å–æ‰€æœ‰çš„æ•°æ®ï¼Œåˆ—å­˜å‚¨åˆ™åªéœ€è¦è¯»å–ç›¸å…³åˆ—ï¼Œå¯ä»¥å¤§å¹…é™ä½ç³»ç»ŸI/Oååé‡</p></li><li><p>ç¨€ç–æ€§</p><p>HBaseä¸­çš„æ•°æ®éƒ½æ˜¯ä»¥å­—ç¬¦ä¸²å½¢å¼å­˜å‚¨çš„ï¼Œä¸ºç©ºçš„åˆ—å¹¶ä¸å ç”¨å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤HBaseçš„åˆ—å­˜å‚¨è§£å†³äº†æ•°æ®ç¨€ç–æ€§çš„é—®é¢˜ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸ŠèŠ‚çœäº†å­˜å‚¨å¼€é”€ã€‚æ‰€ä»¥HBaseé€šå¸¸å¯ä»¥è®¾è®¡æˆç¨€ç–çŸ©é˜µï¼ŒåŒæ—¶è¿™ç§æ–¹å¼æ¯”è¾ƒæ¥è¿‘å®é™…çš„åº”ç”¨åœºæ™¯</p></li><li><p>æ‰©å±•æ€§å¼º</p><p>HBase å·¥ä½œåœ¨ HDFS ä¹‹ä¸Šï¼Œç†æ‰€å½“ç„¶åœ°æ”¯æŒåˆ†å¸ƒå¼è¡¨ï¼Œä¹Ÿç»§æ‰¿äº† HDFS çš„å¯æ‰©å±•æ€§ã€‚HBase çš„æ‰©å±•æ˜¯<strong>æ¨ªå‘</strong>çš„ï¼Œæ¨ªå‘æ‰©å±•æ˜¯æŒ‡åœ¨æ‰©å±•æ—¶ä¸éœ€è¦æå‡æœåŠ¡å™¨æœ¬èº«çš„æ€§èƒ½ï¼Œåªéœ€<strong>æ·»åŠ æœåŠ¡å™¨åˆ°ç°æœ‰é›†ç¾¤</strong>å³å¯ã€‚</p><p>HBase è¡¨æ ¹æ® <strong>Region å¤§å°è¿›è¡Œåˆ†åŒº</strong>ï¼Œ<strong>åˆ†åˆ«å­˜åœ¨é›†ç¾¤ä¸­ä¸åŒçš„èŠ‚ç‚¹ä¸Š</strong>ï¼Œå½“æ·»åŠ æ–°çš„èŠ‚ç‚¹æ—¶ï¼Œé›†ç¾¤å°±é‡æ–°è°ƒæ•´ï¼Œåœ¨æ–°çš„èŠ‚ç‚¹å¯åŠ¨ HBase æœåŠ¡å™¨ï¼ŒåŠ¨æ€åœ°å®ç°æ‰©å±•ã€‚è¿™é‡Œéœ€è¦æŒ‡å‡ºï¼ŒHBase çš„æ‰©å±•æ˜¯<strong>çƒ­æ‰©å±•</strong>ï¼Œå³åœ¨ä¸åœæ­¢ç°æœ‰æœåŠ¡çš„å‰æä¸‹ï¼Œå¯ä»¥éšæ—¶æ·»åŠ æˆ–è€…å‡å°‘èŠ‚ç‚¹ã€‚</p></li><li><p>é«˜å¯é æ€§</p></li></ul><h3 id="HDFSçš„åŸç†"><a href="#HDFSçš„åŸç†" class="headerlink" title="HDFSçš„åŸç†"></a>HDFSçš„åŸç†</h3><p>HDFS æ˜¯å‚è€ƒ Google å…¬å¸çš„ GFS å®ç°çš„ï¼Œä¸ç®¡æ˜¯ Google å…¬å¸çš„è®¡ç®—å¹³å°è¿˜æ˜¯ Hadoop è®¡ç®—å¹³å°ï¼Œéƒ½æ˜¯è¿è¡Œåœ¨å¤§é‡æ™®é€šå•†ç”¨è®¡ç®—æœºä¸Šçš„ï¼Œè¿™äº›è®¡ç®—æœºèŠ‚ç‚¹å¾ˆå®¹æ˜“å‡ºç°ç¡¬ä»¶æ•…éšœï¼Œè€Œè¿™ä¸¤ç§è®¡ç®—å¹³å°éƒ½å°†ç¡¬ä»¶æ•…éšœä½œä¸ºå¸¸æ€ï¼Œé€šè¿‡è½¯ä»¶è®¾è®¡æ¥ä¿è¯ç³»ç»Ÿçš„å¯é æ€§ã€‚</p><h4 id="HDFSçš„åŸºæœ¬æ¶æ„"><a href="#HDFSçš„åŸºæœ¬æ¶æ„" class="headerlink" title="HDFSçš„åŸºæœ¬æ¶æ„"></a>HDFSçš„åŸºæœ¬æ¶æ„</h4><p><code>HDFS</code> ä¸»è¦ç”± 3 ä¸ªç»„ä»¶æ„æˆï¼Œåˆ†åˆ«æ˜¯ <code>NameNodeã€SecondaryNameNode å’Œ DataNodeã€‚</code></p><p><code>HDFS</code> æ˜¯ä»¥ Master/Slave æ¨¡å¼è¿è¡Œçš„ï¼Œå…¶ä¸­ï¼Œ<code>NameNode </code>å’Œ<code> SecondaryNameNode</code> è¿è¡Œåœ¨ Master èŠ‚ç‚¹ ä¸Šï¼Œè€Œ <code>DataNode </code>è¿è¡Œåœ¨ Slave èŠ‚ç‚¹ä¸Šï¼Œæ‰€ä»¥ <code>HDFS </code>é›†ç¾¤ä¸€èˆ¬ç”±ä¸€ä¸ª <code>NameNode</code>ã€ä¸€ä¸ª<code>SecondaryNameNode</code>å’Œè®¸å¤š <code>DataNode </code>ç»„æˆï¼Œå…¶æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210720151549111.png" class title="image-20210720151549111"><p><a href="http://c.biancheng.net/view/6502.html">HDFSç®€æ˜å…¥é—¨æ•™ç¨‹ (biancheng.net)</a></p><h4 id="HBaseé€»è¾‘ç»“æ„"><a href="#HBaseé€»è¾‘ç»“æ„" class="headerlink" title="HBaseé€»è¾‘ç»“æ„"></a>HBaseé€»è¾‘ç»“æ„</h4><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210720185905040.png" class title="image-20210720185905040"><h4 id="HBaseç‰©ç†ç»“æ„ï¼š"><a href="#HBaseç‰©ç†ç»“æ„ï¼š" class="headerlink" title="HBaseç‰©ç†ç»“æ„ï¼š"></a>HBaseç‰©ç†ç»“æ„ï¼š</h4><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210720212833190.png" class title="image-20210720212833190"><h4 id="æ•°æ®æ¨¡å‹"><a href="#æ•°æ®æ¨¡å‹" class="headerlink" title="æ•°æ®æ¨¡å‹"></a>æ•°æ®æ¨¡å‹</h4><p><code>Name Space</code>:</p><p>å‘½åç©ºé—´ï¼Œç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“çš„databaseæ¦‚å¿µï¼Œæ¯ä¸ªå‘½åç©ºé—´ä¸‹æœ‰å¤šä¸ªè¡¨ã€‚HBaseæœ‰ä¸¤ä¸ªè‡ªå¸¦çš„å‘½åç©ºé—´ï¼Œåˆ†åˆ«æ˜¯hbaseå’Œdefaultï¼ŒHBaseä¸­å­˜æ”¾çš„æ˜¯HBaseå†…ç½®çš„è¡¨ï¼Œdefaultè¡¨æ˜¯ç”¨æˆ·é»˜è®¤ä½¿ç”¨çš„å‘½åç©ºé—´</p><p><code>Region</code>:ç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“çš„è¡¨çš„æ¦‚å¿µã€‚ä¸åŒçš„æ˜¯ï¼ŒHBaseå®šä¹‰è¡¨æ—¶åªéœ€è¦å£°æ˜åˆ—æ—å³å¯ï¼Œä¸éœ€è¦å£°æ˜å…·ä½“çš„ç±»ã€‚è¿™æ„å‘³ç€ï¼Œå¾€HBaseå†™å…¥æ•°æ®æ—¶ï¼Œå­—æ®µå¯ä»¥<strong>åŠ¨æ€</strong>ã€<strong>æŒ‰éœ€</strong>æŒ‡å®š</p><p><code>Row</code>:HBaseè¡¨ä¸­çš„æ¯è¡Œæ•°æ®éƒ½ç”±ä¸€ä¸ªRowKeyå’Œå¤šä¸ªColumnï¼ˆåˆ—ç»„æˆï¼‰ï¼Œæ•°æ®æ˜¯æŒ‰ç…§RowKeyçš„å­—å…¸é¡ºåºå­˜å‚¨çš„ï¼Œå¹¶ä¸”æŸ¥è¯¢æ•°æ®æ—¶åªèƒ½æ ¹æ®RowKeyè¿›è¡Œæ£€ç´¢ã€‚</p><p><code>Column</code>:HBaseä¸­çš„æ¯ä¸ªåˆ—éƒ½ç”±Column Family(åˆ—æ—)å’ŒColumn  Qualifierï¼ˆåˆ—é™å®šç¬¦ï¼‰è¿›è¡Œé™å®šï¼Œä¾‹å¦‚infoï¼šnameï¼Œinfo:ageã€‚å»ºè¡¨æ—¶ï¼Œåªéœ€æŒ‡æ˜åˆ—æ—ï¼Œè€Œåˆ—é™å®šç¬¦æ— éœ€é¢„å…ˆå®šä¹‰ã€‚</p><p><code>Time Stamp</code></p><p>ç”¨äºæ ‡è¯†æ•°æ®çš„ä¸åŒç‰ˆæœ¬(version)ï¼Œæ¯æ¡æ•°æ®å†™å…¥æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šæ—¶é—´æˆ³ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºå…¶åŠ ä¸Šè¯¥å­—æ®µï¼Œå…¶å€¼ä¸ºå†™å…¥HBaseçš„æ—¶é—´</p><p><code>Cell</code>ï¼š</p><p>ç”±{rowKeyï¼Œcolumn Familyï¼šcolumn Qualifierï¼Œtime Stamp} å”¯ä¸€ç¡®å®šçš„å•å…ƒã€‚cellä¸­çš„æ•°æ®æ˜¯æ²¡æœ‰ç±»å‹çš„ï¼Œå…¨éƒ¨æ˜¯å­—èŠ‚ç å½¢å¼å­˜å‚¨</p><h4 id="HBaseæ¶æ„ï¼š"><a href="#HBaseæ¶æ„ï¼š" class="headerlink" title="HBaseæ¶æ„ï¼š"></a>HBaseæ¶æ„ï¼š</h4><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721132312788.png" class title="image-20210721132312788"><h4 id="HBaseçš„shellæ“ä½œ"><a href="#HBaseçš„shellæ“ä½œ" class="headerlink" title="HBaseçš„shellæ“ä½œ"></a>HBaseçš„shellæ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bin/hbase shell <span class="comment">#å‘½ä»¤è¡Œç•Œé¢</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤å†™é”™çš„å†…å®¹</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ctrl+delete</span><br></pre></td></tr></table></figure><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/bigdata/data/Hbase/Hbaseçš„å­¦ä¹ /image-20210721151254543.png" alt="image-20210721151254543" style="zoom:200%;"><p>ä½¿ç”¨shellæŠ¥é”™</p><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721151938883.png" class title="image-20210721151938883"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#å…ˆç”¨å‘½ä»¤æŸ¥çœ‹å®‰å…¨æ¨¡å¼çŠ¶æ€</span><br><span class="line">bin/hdfs dfsadmin -safemode get</span><br><span class="line">#å‘ç°å®‰å…¨æ¨¡å¼å¼€å¯ï¼Œå…³é—­å³å¯</span><br><span class="line">bin/hdfs dfsadmin -safemode leave</span><br></pre></td></tr></table></figure><p>å®‰å…¨æ¨¡å¼ï¼š</p><p>å½“åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ˆHDFSï¼‰å¼€å§‹å¯åŠ¨æ—¶ï¼Œä¼šæœ‰å®‰å…¨æ¨¡å¼ï¼ŒHDFSå¤„åœ¨å®‰å…¨æ¨¡å¼ä¸‹ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸­ä¸å…è®¸ä¿®æ”¹å’Œåˆ é™¤çš„æ“ä½œã€‚</p><p>å®‰å…¨æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™æ£€æŸ¥å„ä¸ªDataNodeä¸Šæ•°æ®å—çš„æœ‰æ•ˆæ€§ï¼ŒåŒæ—¶æ ¹æ®ç­–ç•¥å¿…è¦çš„å¤åˆ¶æˆ–è€…åˆ é™¤éƒ¨åˆ†æ•°æ®å—ã€‚</p><p>åˆ›å»ºè¡¨çš„è¯­å¥</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cretae <span class="string">&#x27;è¡¨å&#x27;</span>,<span class="string">&#x27;åˆ—æ—å&#x27;</span>,<span class="string">&#x27;åˆ—æ—å&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è¡¨ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ä¿®æ”¹versions</span><br><span class="line">alter &#x27;è¡¨å&#x27;,&#123;NAME=&gt;&#x27;åˆ—æ—å&#x27;,VERSIONS=&gt;3&#125;</span><br></pre></td></tr></table></figure><p>åˆ é™¤è¡¨</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹è¡¨</span><br><span class="line">list</span><br><span class="line">#å…ˆå°†è¡¨å˜ä¸ºä¸å¯ç”¨</span><br><span class="line">disbale &#x27;è¡¨å&#x27;</span><br><span class="line">#å†åˆ é™¤è¡¨</span><br><span class="line">drop &#x27;è¡¨å&#x27;</span><br></pre></td></tr></table></figure><p>å‘½åç©ºé—´</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹å‘½åç©ºé—´</span><br><span class="line">list_namespace</span><br><span class="line">#åˆ›å»ºå‘½åç©ºé—´</span><br><span class="line">create_namespace &#x27;å‘½åç©ºé—´å&#x27;</span><br><span class="line">#åˆ é™¤å‘½åç©ºé—´ï¼ˆé¦–å…ˆå¾—å°†é‡Œé¢çš„è¡¨åˆ é™¤ï¼‰</span><br><span class="line">disable &#x27;å‘½åç©ºé—´:è¡¨å&#x27;</span><br><span class="line">drop &#x27;å‘½åç©ºé—´:è¡¨å&#x27;</span><br><span class="line">drop_namespace &#x27;å‘½åç©ºé—´&#x27;</span><br></pre></td></tr></table></figure><p>å‘è¡¨ä¸­æ’å…¥æ•°æ®</p><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721155900344.png" class title="image-20210721155900344"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">put <span class="string">&#x27;å‘½åç©ºé—´ï¼ˆé»˜è®¤ä¸ºdefaultï¼‰:è¡¨å&#x27;</span>,<span class="string">&#x27;row_key&#x27;</span>,<span class="string">&#x27;åˆ—æ—:åˆ—å&#x27;</span>,<span class="string">&#x27;å€¼&#x27;</span></span><br></pre></td></tr></table></figure><p>scan</p><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721160444790.png" class title="image-20210721160444790"><p>get</p><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721160512874.png" class title="image-20210721160512874"><p>æŸ¥çœ‹10ä¸ªç‰ˆæœ¬ä»¥å†…çš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scan &#x27;è¡¨å&#x27;,&#123;RAW=&gt;true,VERSIONS=&gt;10&#125;</span><br></pre></td></tr></table></figure><p>delete</p><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721182714486.png" class title="image-20210721182714486"><h4 id="Hbaseè¯¦ç»†æ¶æ„"><a href="#Hbaseè¯¦ç»†æ¶æ„" class="headerlink" title="Hbaseè¯¦ç»†æ¶æ„"></a>Hbaseè¯¦ç»†æ¶æ„</h4><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721220238386.png" class title="image-20210721220238386"><h4 id="Hbaseå†™æµç¨‹"><a href="#Hbaseå†™æµç¨‹" class="headerlink" title="Hbaseå†™æµç¨‹"></a>Hbaseå†™æµç¨‹</h4><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210721205533542.png" class title="image-20210721205533542"><p>å†™æµç¨‹ï¼š</p><ul><li>Clientå…ˆè®¿é—®zookeeper,è·å–hbase:metaè¡¨ä½äºå“ªä¸ªRegion Server</li><li>è®¿é—®å¯¹åº”çš„Region Server,è·å–hbase:metaè¡¨ï¼Œæ ¹æ®è¯»è¯·æ±‚çš„namespace:table/rowkey,æŸ¥è¯¢æ¥šç›®æ ‡æ•°æ®ä½äºå“ªä¸ªRegion Serverä¸­çš„å“ªä¸ªRegionä¸­ã€‚å¹¶å°†è¯¥tableçš„regionä¿¡æ¯ä»¥åŠmetaè¡¨çš„ä½ç½®ä¿¡æ¯ç¼“å­˜åœ¨meta cacheï¼Œæ–¹ä¾¿ä¸‹æ¬¡è®¿é—®</li><li>ä¸ç›®æ ‡Region Serverè¿›è¡Œé€šä¿¡</li><li>å°†æ•°æ®é¡ºåºå†™ï¼ˆè¿½åŠ ï¼‰åˆ°WAL</li><li>å°†æ•°æ®å†™å…¥å¯¹åº”çš„MemStoreï¼Œæ•°æ®ä¼šåœ¨MemStoreè¿›è¡Œæ’åº</li><li>å‘å®¢æˆ·ç«¯å‘é€ack</li><li>ç­‰è¾¾åˆ°MemStoreçš„åˆ·å†™æ—¶æœºåï¼Œå°†æ•°æ®åˆ·å†™åˆ°HFile</li></ul><h4 id="HBaseè¯»æµç¨‹"><a href="#HBaseè¯»æµç¨‹" class="headerlink" title="HBaseè¯»æµç¨‹"></a>HBaseè¯»æµç¨‹</h4><img src="/2021/07/23/HBase%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/image-20210722165440443.png" class title="image-20210722165440443"><h4 id="ä¸Hiveçš„é›†æˆ"><a href="#ä¸Hiveçš„é›†æˆ" class="headerlink" title="ä¸Hiveçš„é›†æˆ"></a>ä¸Hiveçš„é›†æˆ</h4><h4 id="HBaseä¸Hiveçš„å¯¹æ¯”"><a href="#HBaseä¸Hiveçš„å¯¹æ¯”" class="headerlink" title="HBaseä¸Hiveçš„å¯¹æ¯”"></a>HBaseä¸Hiveçš„å¯¹æ¯”</h4><p>Hive:</p><ul><li><p>æ•°æ®ä»“åº“</p><p>Hiveçš„æœ¬è´¨å…¶å®å°±ç›¸å½“äºå°†HDFSä¸­å·²ç»å­˜å‚¨çš„æ–‡ä»¶åœ¨MySQLä¸­åšäº†ä¸€ä¸ªåŒå°„å…³ç³»ï¼Œä»¥æ–¹ä¾¿ä½¿ç”¨HQLå»ç®¡ç†æŸ¥è¯¢</p></li><li><p>ç”¨äºæ•°æ®åˆ†æã€æ¸…æ´—</p><p>Hiveé€‚ç”¨äºç¦»çº¿çš„æ•°æ®åˆ†æå’Œæ¸…æ´—ï¼Œå»¶è¿Ÿè¾ƒé«˜</p></li><li><p>åŸºäºHDFSã€MapReduce</p><p>Hiveå­˜å‚¨çš„æ•°æ®ä¾æ—§åœ¨DataNodeä¸Šï¼Œç¼–å†™çš„HQLè¯­å¥ç»ˆå°†æ˜¯è½¬æ¢ä¸ºMapReduceä»£ç æ‰§è¡Œ</p></li></ul><p><strong>HBase:</strong></p><ul><li><p>æ•°æ®åº“</p><p>æ˜¯ä¸€ç§é¢å‘åˆ—æ—å­˜å‚¨çš„éå…³ç³»å‹æ•°æ®åº“</p></li><li><p>ç”¨äºå­˜å‚¨ç»“æ„åŒ–å’Œéç»“æ„åŒ–çš„æ•°æ®</p><p>é€‚ç”¨äºå•è¡¨éå…³ç³»å‹æ•°æ®çš„å­˜å‚¨ï¼Œä¸é€‚åˆåšå…³è”æŸ¥è¯¢ï¼Œç±»ä¼¼Joinç­‰æ“ä½œ</p></li><li><p>åŸºäºHDFS</p><p>æ•°æ®æŒä¹…åŒ–å­˜å‚¨çš„ä½“ç°å½¢å¼æ˜¯HFileï¼Œå­˜æ”¾äºDataNodeä¸­ï¼Œè¢«ResionServerä»¥regionçš„å½¢å¼è¿›è¡Œç®¡ç†</p></li><li><p>å»¶è¿Ÿè¾ƒä½ï¼Œæ¥å…¥åœ¨çº¿ä¸šåŠ¡ä½¿ç”¨</p><p>é¢å¯¹å¤§é‡çš„ä¼ä¸šæ•°æ®ï¼ŒHBaseå¯ä»¥ç›´çº¿å•è¡¨å¤§é‡æ•°æ®çš„å­˜å‚¨ï¼ŒåŒæ—¶æé«˜äº†é«˜æ•ˆçš„æ•°æ®è®¿é—®é€Ÿåº¦</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> å¤§æ•°æ® </category>
          
          <category> HBase </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤§æ•°æ®,åˆ—å¼å­˜å‚¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‹ä¸€ä¸ªæ’åˆ—</title>
      <link href="/2021/07/22/%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/"/>
      <url>/2021/07/22/%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h4 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h4><p>å®ç°è·å– ä¸‹ä¸€ä¸ªæ’åˆ— çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚</p><p>å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚</p><p>å¿…é¡» åŸåœ° ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´</p><p>**å­—å…¸åº:**å­—å…¸åºçš„ä¸‹ä¸€ä¸ªæ’åˆ—æ€»æ˜¯è¦æ¯”å½“å‰æ’åˆ—è¦å¤§ï¼Œé™¤éè¯¥æ’åˆ—å·²ç»æ˜¯æœ€å¤§çš„æ’åˆ—ã€‚è¦æ‰¾åˆ°ä¸€ä¸ªå¤§äºå½“å‰åºåˆ—çš„æ–°åºåˆ—ï¼Œä¸”å˜å¤§çš„å¹…åº¦å°½å¯èƒ½çš„å°</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,3]</span><br><span class="line">è¾“å‡ºï¼š[1,3,2]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,2,1]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,1,5]</span><br><span class="line">è¾“å‡ºï¼š[1,5,1]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹4ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1]</span><br><span class="line">è¾“å‡ºï¼š[1]</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 100</code></li><li><code>0 &lt;= nums[i] &lt;= 100</code></li></ul><p>å­¦ä¹ ä½“ä¼šï¼šå¼€å§‹æŠŠè¿™ä¸ªé¢˜è¯»å®Œäº†ä¹‹åï¼Œæ•´ä¸ªäººéƒ½æ˜¯æ‡µçš„ï¼Œåœ¨åå¤ç‹¬äº†å‡ éé¢˜ç›®ï¼Œå‘ç°è¿˜æ˜¯è¯»ä¸æ‡‚åï¼Œé€‰æ‹©çœ‹é¢˜è§£ã€‚ã€‚ã€‚</p><p>é¢˜è§£æ€è·¯ï¼š</p><p>æ‰¾åˆ°ä»å³å¾€å·¦æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸æ˜¯é€’å‡çš„æ•°ï¼Œç„¶åå†ä»å³åˆ°ç¬¬ä¸€ä¸ªä¸ä¸ºé€’å‡çš„å…ƒç´ ä¸­æ‰¾ä¸€ä¸ªå¤§äºä¸ä¸ºé€’å‡å…ƒç´ çš„å€¼ï¼Œå¹¶å°†è¿™ä¸¤ä¸ªå€¼äº¤æ¢ï¼Œå†ä»ç¬¬ä¸€ä¸ªä¸ä¸ºé€’å‡çš„å…ƒç´ çš„ä½ç½®åˆ°æœ€åä½ç½®çš„å…ƒç´ åè½¬ä¸€ä¸‹ï¼Œæœ€ç»ˆå¾—åˆ°ä¸‹ä¸€ä¸ªæ’åˆ—</p><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ€æƒ³ï¼šå­—å…¸åºçš„ä¸‹ä¸€ä¸ªæ’åˆ—æ€»æ˜¯è¦æ¯”å½“å‰æ’åˆ—è¦å¤§ï¼Œé™¤éè¯¥æ’åˆ—å·²ç»æ˜¯æœ€å¤§çš„æ’åˆ—ã€‚è¦æ‰¾åˆ°ä¸€ä¸ªå¤§äºå½“å‰åºåˆ—çš„æ–°åºåˆ—ï¼Œä¸”å˜å¤§çš„å¹…åº¦å°½å¯èƒ½çš„å°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NextPermutationDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        NextPermutationDemo test=<span class="keyword">new</span> NextPermutationDemo();</span><br><span class="line">        <span class="keyword">int</span>[] arr=<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        test.nextPermutation(arr);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> i=nums.length-<span class="number">2</span>,j=nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//ä»åå¾€å‰æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸æ˜¯é™åºæ’åˆ—çš„æ•°</span></span><br><span class="line">        <span class="keyword">while</span>(i&gt;=<span class="number">0</span>&amp;&amp;nums[i]&gt;nums[i+<span class="number">1</span>])&#123;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä»åå¾€å‰æŸ¥æ‰¾æ¯”ä¸Šé¢æŸ¥æ‰¾çš„å€¼å¤§çš„å…ƒç´ ï¼Œäº¤æ¢</span></span><br><span class="line">        <span class="keyword">while</span>(j&gt;i&amp;&amp;i&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j]&gt;nums[i])&#123;</span><br><span class="line">                swap(nums,i,j);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        reverseArr(nums,i+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp=arr[i];</span><br><span class="line">        arr[i]=arr[j];</span><br><span class="line">        arr[j]=temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverseArr</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> start)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left=start,right=arr.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">            swap(arr,left,right);</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³•,leetcode,ä¸­ç­‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JUCåŸºç¡€å­¦ä¹ </title>
      <link href="/2021/07/20/JUC%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/"/>
      <url>/2021/07/20/JUC%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h3 id="JUCç®€ä»‹"><a href="#JUCç®€ä»‹" class="headerlink" title="JUCç®€ä»‹"></a>JUCç®€ä»‹</h3><p>åœ¨Javaä¸­ï¼Œçº¿ç¨‹éƒ¨åˆ†æ˜¯ä¸€ä¸ªé‡ç‚¹ï¼Œæœ¬ç¯‡æ–‡ç« è¯´çš„JUCä¹Ÿæ˜¯å…³äºçº¿ç¨‹çš„ã€‚JUCå°±æ˜¯java.util.concurrentå·¥å…·åŒ…çš„ç®€ç§°ã€‚è¿™æ˜¯ä¸€ä¸ªå¤„ç†çº¿ç¨‹çš„å·¥å…·åŒ…ï¼ŒJDK1.5å¼€å§‹å‡ºç°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> åç«¯ </category>
          
          <category> Javaçº¿ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java,å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç››æœ€å¤šæ°´çš„å®¹å™¨</title>
      <link href="/2021/07/15/%E7%9B%9B%E6%9C%80%E5%A4%9A%E6%B0%B4%E7%9A%84%E5%AE%B9%E5%99%A8/"/>
      <url>/2021/07/15/%E7%9B%9B%E6%9C%80%E5%A4%9A%E6%B0%B4%E7%9A%84%E5%AE%B9%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p><strong>é¢˜ç›®æè¿°ï¼š</strong></p><p>ç»™ä½  n ä¸ªéè´Ÿæ•´æ•° a1ï¼Œa2ï¼Œâ€¦ï¼Œanï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ (i, ai) ã€‚åœ¨åæ ‡å†…ç”» n æ¡å‚ç›´çº¿ï¼Œå‚ç›´çº¿ i çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º (i, ai) å’Œ (i, 0) ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ x è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</p><p>è¯´æ˜ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><img src="/2021/07/15/%E7%9B%9B%E6%9C%80%E5%A4%9A%E6%B0%B4%E7%9A%84%E5%AE%B9%E5%99%A8/image-20210715115032300.png" class title="image-20210715115032300"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]</span><br><span class="line">è¾“å‡ºï¼š49 </span><br><span class="line">è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸ºÂ 49ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [1,1]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [4,3,2,1,4]</span><br><span class="line">è¾“å‡ºï¼š16</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹4ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [1,2,1]</span><br><span class="line">è¾“å‡ºï¼š2</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>n = height.length</code></li><li><code>2 &lt;= n &lt;= 3 * 104</code></li><li><code>0 &lt;= height[i] &lt;= 3 * 104</code></li></ul><p><strong>é¢˜ç›®è§£è¯»ï¼š</strong></p><p>é¢˜ç›®æ‰€ç»™çš„æ•°ç»„ï¼Œç›¸å½“äºæ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªåæ ‡ï¼ˆi,aiï¼‰,è¿™ä¸ªåæ ‡ä»£è¡¨äº†æ‰€ç”»çš„æŸ±çŠ¶å›¾çš„æœ€é«˜ç‚¹ã€‚è€Œæˆ‘ä»¬éœ€è¦æ±‚çš„å°±æ˜¯ä¸¤ä¸ªæŸ±çŠ¶å›¾ä¹‹é—´çš„æœ€å¤§é¢ç§¯ï¼ˆæ­¤é¢ç§¯çš„é«˜ä¸ºä¸¤ä¸ªæŸ±çŠ¶å›¾ä¹‹é—´è¾ƒå°çš„é‚£ä¸ªé«˜ï¼‰ã€‚æ±‚é•¿æ–¹å½¢çš„é¢ç§¯å°±å°‘ä¸äº†é•¿å’Œå®½ï¼Œè€Œæœ€å¤§é¢ç§¯çš„è¯å°±éœ€è¦é•¿å’Œå®½éƒ½å°½é‡çš„å¤§ã€‚è¿™ä¹Ÿæ˜¯æœ¬é¢˜çš„éš¾ç‚¹ï¼Œå¦‚ä½•æ±‚å¾—è¾ƒå¤§çš„é•¿å’Œå®½ã€‚</p><p>è¿™é‡Œé€‰æ‹©ä½¿ç”¨åŒæŒ‡é’ˆæ¥è¿›è¡Œæšä¸¾ï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¼€å¤´ï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ç»“å°¾ã€‚ç„¶åæ¥ä¸‹æ¥éœ€è¦è€ƒè™‘çš„é—®é¢˜å°±æ˜¯å¦‚ä½•ç§»åŠ¨æŒ‡é’ˆæ¥è·å¾—æœ€å¤§å€¼ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ— è®ºæ€ä¹ˆç§»åŠ¨æŒ‡é’ˆï¼Œæ‰€å›´æˆçš„é¢ç§¯çš„é•¿åº¦éƒ½ä¼šå‡å°‘ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹©è¾ƒå°é«˜çš„é‚£ä¸ªæŒ‡é’ˆç§»åŠ¨å°±èƒ½å–å¾—æœ€å¤§å€¼ã€‚</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxArea1</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=height.length;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j=len-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;j)&#123;</span><br><span class="line">            <span class="keyword">int</span> min=height[i]&lt;height[j]? height[i++]:height[j--];</span><br><span class="line">            max=max&gt;min*(j-i+<span class="number">1</span>)? max:min*(j-i+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³•,leetcode,ä¸­ç­‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå®‰è£…</title>
      <link href="/2021/07/13/Java%E5%AE%89%E8%A3%85/"/>
      <url>/2021/07/13/Java%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸‹è½½JDK"><a href="#ä¸‹è½½JDK" class="headerlink" title="ä¸‹è½½JDK"></a>ä¸‹è½½JDK</h4><p>ä¸‹è½½åœ°å€ï¼š</p><p>oracleå®˜ç½‘ï¼š<a href>https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p><p>è¿›å…¥é¡µé¢åä¸‹è½½64ä½çš„åŒ…ï¼Œjdk-8u291-linux-x64.tar.gzä¸jdk-8u291-linux-x64.rpméƒ½å¯ä»¥</p><p>è¿™é‡Œæˆ‘ä¸‹è½½çš„æ˜¯<strong>jdk-8u291-linux-x64.tar.gz</strong></p><p>åœ¨linuxä¸‹<code>/usr/local</code>ç›®å½•ä¸‹ï¼Œä½¿ç”¨å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir jdk<span class="comment">#æ–‡ä»¶åå¯ä»¥éšä¾¿å–</span></span><br></pre></td></tr></table></figure><p>å°†ä¸‹è½½å¥½çš„jdk-8u291-linux-x64.tar.gzé€šè¿‡xshellä¼ è¾“åˆ°linuxä¸‹çš„<code>/usr/local/jdk</code>ä¸­</p><img src="/2021/07/13/Java%E5%AE%89%E8%A3%85/image-20210713230043661.png" class title="image-20210713230043661"><p>ä¼ è¾“åˆ°æ–‡ä»¶ç›®å½•ä¸‹</p><img src="/2021/07/13/Java%E5%AE%89%E8%A3%85/image-20210713225957847.png" class title="image-20210713225957847"><p>ä½¿ç”¨å‘½ä»¤è¿›è¡Œè§£å‹åˆ°å½“å‰ç›®å½•ä¸‹</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzvf jdk-8u291-linux-x64.tar.gz</span><br></pre></td></tr></table></figure><img src="/2021/07/13/Java%E5%AE%89%E8%A3%85/image-20210713230055548.png" class title="image-20210713230055548"><h4 id="ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œé…ç½®ç¯å¢ƒå˜é‡"><a href="#ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œé…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œé…ç½®ç¯å¢ƒå˜é‡"></a>ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œé…ç½®ç¯å¢ƒå˜é‡</h4><p>ä½¿ç”¨å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><p>æŒ‰â€iâ€è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæ·»åŠ ä¸Šä¸‹é¢çš„å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/jdk/jdk1.8.0_291</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line">export JRE_HOME=$JAVA_HOME/jre</span><br></pre></td></tr></table></figure><img src="/2021/07/13/Java%E5%AE%89%E8%A3%85/image-20210713230119200.png" class title="image-20210713230119200"><p>æ·»åŠ åï¼ŒæŒ‰â€œESCâ€é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå¹¶<code>:wq</code>è¿›è¡Œä¿å­˜ä¿®æ”¹å†…å®¹ã€‚ï¼ˆè‹¥æ²¡æœ‰ä½¿ç”¨ä¿®æ”¹å†…å®¹ä¸ä¼šä¿å­˜ï¼‰</p><p>æœ€åè¿˜è¦ä½¿ç”¨å‘½ä»¤,ä½¿é…ç½®çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•åï¼Œä½¿ç”¨å‘½ä»¤<code>java -version</code>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p><img src="/2021/07/13/Java%E5%AE%89%E8%A3%85/image-20210713230142680.png" class title="image-20210713230142680"><p>å‡ºç°ä¸Šé¢å›¾ç‰‡ä¸­çš„å†…å®¹ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux,Javaå®‰è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nacosé…ç½®ä¸­å¿ƒ</title>
      <link href="/2021/07/13/nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/"/>
      <url>/2021/07/13/nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€é…ç½®æ–‡ä»¶ä»‹ç»"><a href="#ä¸€ã€é…ç½®æ–‡ä»¶ä»‹ç»" class="headerlink" title="ä¸€ã€é…ç½®æ–‡ä»¶ä»‹ç»"></a>ä¸€ã€é…ç½®æ–‡ä»¶ä»‹ç»</h2><h4 id="Spring-Cloud-Config"><a href="#Spring-Cloud-Config" class="headerlink" title="Spring Cloud Config"></a>Spring Cloud Config</h4><p>Spring Cloud Configä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤–éƒ¨é…ç½®æä¾›äº†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ”¯æŒæ–¹æ¡ˆã€‚åœ¨é…ç½®çš„æœåŠ¡æ®µä½ å¯ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒä¸­ä¸ºåº”ç”¨ç¨‹åºç®¡ç†å¤–éƒ¨å±æ€§çš„ä¸­å¿ƒä½ç½®ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ¦‚å¿µä¸Šçš„Spring Environment å’Œ PropertySource æŠ½è±¡ä¿æŒåŒæ­¥, å®ƒä»¬éå¸¸é€‚åˆSpringåº”ç”¨ç¨‹åºï¼Œä½†æ˜¯å¯ä»¥ä¸ä»»ä½•è¯­è¨€ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºä¸€èµ·ä½¿ç”¨ã€‚å½“åº”ç”¨ç¨‹åºåœ¨éƒ¨ç½²ç®¡é“ä¸­ä»ä¸€ä¸ªå¼€å‘åˆ°æµ‹è¯•ç›´è‡³è¿›å…¥ç”Ÿäº§æ—¶ï¼Œæ‚¨å¯ä»¥ç®¡ç†è¿™äº›ç¯å¢ƒä¹‹é—´çš„é…ç½®ï¼Œå¹¶ç¡®ä¿åº”ç”¨ç¨‹åºåœ¨è¿ç§»æ—¶å…·æœ‰å®ƒä»¬éœ€è¦è¿è¡Œçš„æ‰€æœ‰å†…å®¹ã€‚æœåŠ¡å™¨å­˜å‚¨åç«¯çš„é»˜è®¤å®ç°ä½¿ç”¨gitï¼Œå› æ­¤å®ƒå¾ˆå®¹æ˜“æ”¯æŒæ ‡è®°ç‰ˆæœ¬çš„é…ç½®ç¯å¢ƒï¼Œå¹¶ä¸”èƒ½å¤Ÿè¢«ç®¡ç†å†…å®¹çš„å„ç§å·¥å…·è®¿é—®ã€‚å¾ˆå®¹æ˜“æ·»åŠ æ›¿ä»£çš„å®ç°ï¼Œå¹¶ç”¨Springé…ç½®å°†å®ƒä»¬æ’å…¥ã€‚</p><p>Spring Cloud Config åŒ…å«äº†Clientå’ŒServerä¸¤ä¸ªéƒ¨åˆ†ï¼Œserveræä¾›é…ç½®æ–‡ä»¶çš„å­˜å‚¨ã€ä»¥æ¥å£çš„å½¢å¼å°†é…ç½®æ–‡ä»¶çš„å†…å®¹æä¾›å‡ºå»ï¼Œclienté€šè¿‡æ¥å£è·å–æ•°æ®ã€å¹¶ä¾æ®æ­¤æ•°æ®åˆå§‹åŒ–è‡ªå·±çš„åº”ç”¨ã€‚Spring cloudä½¿ç”¨gitæˆ–svnå­˜æ”¾é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨gitã€‚</p><h4 id="Nacosæ›¿æ¢Config"><a href="#Nacosæ›¿æ¢Config" class="headerlink" title="Nacosæ›¿æ¢Config"></a>Nacosæ›¿æ¢Config</h4><p>Nacos å¯ä»¥ä¸ Spring, Spring Boot, Spring Cloud é›†æˆï¼Œå¹¶èƒ½ä»£æ›¿ Spring Cloud Eureka, Spring Cloud Configã€‚é€šè¿‡ Nacos Server å’Œ spring-cloud-starter-alibaba-nacos-config å®ç°é…ç½®çš„åŠ¨æ€å˜æ›´ã€‚</p><p><strong>åº”ç”¨åœºæ™¯</strong></p><p>åœ¨ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…é€šå¸¸ä¼šå°†ä¸€äº›éœ€è¦å˜æ›´çš„å‚æ•°ã€å˜é‡ç­‰ä»ä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ç‹¬ç«‹ç®¡ç†ï¼Œä»¥ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ã€‚ç›®çš„æ˜¯è®©é™æ€çš„ç³»ç»Ÿå·¥ä»¶æˆ–è€…äº¤ä»˜ç‰©ï¼ˆå¦‚ WARï¼ŒJAR åŒ…ç­‰ï¼‰æ›´å¥½åœ°å’Œå®é™…çš„ç‰©ç†è¿è¡Œç¯å¢ƒè¿›è¡Œé€‚é…ã€‚é…ç½®ç®¡ç†ä¸€èˆ¬åŒ…å«åœ¨ç³»ç»Ÿéƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œç”±ç³»ç»Ÿç®¡ç†å‘˜æˆ–è€…è¿ç»´äººå‘˜å®Œæˆã€‚é…ç½®å˜æ›´æ˜¯è°ƒæ•´ç³»ç»Ÿè¿è¡Œæ—¶çš„è¡Œä¸ºçš„æœ‰æ•ˆæ‰‹æ®µã€‚</p><p>å¦‚æœå¾®æœåŠ¡æ¶æ„ä¸­æ²¡æœ‰ä½¿ç”¨ç»Ÿä¸€é…ç½®ä¸­å¿ƒæ—¶ï¼Œæ‰€å­˜åœ¨çš„é—®é¢˜ï¼š</p><p>- é…ç½®æ–‡ä»¶åˆ†æ•£åœ¨å„ä¸ªé¡¹ç›®é‡Œï¼Œä¸æ–¹ä¾¿ç»´æŠ¤</p><p>- é…ç½®å†…å®¹å®‰å…¨ä¸æƒé™</p><p>- æ›´æ–°é…ç½®åï¼Œé¡¹ç›®éœ€è¦é‡å¯</p><p>nacosé…ç½®ä¸­å¿ƒï¼šç³»ç»Ÿé…ç½®çš„é›†ä¸­ç®¡ç†ï¼ˆç¼–è¾‘ã€å­˜å‚¨ã€åˆ†å‘ï¼‰ã€åŠ¨æ€æ›´æ–°ä¸é‡å¯ã€å›æ»šé…ç½®ï¼ˆå˜æ›´ç®¡ç†ã€å†å²ç‰ˆæœ¬ç®¡ç†ã€å˜æ›´å®¡è®¡ï¼‰ç­‰æ‰€æœ‰ä¸é…ç½®ç›¸å…³çš„æ´»åŠ¨ã€‚</p><h4 id="è¯»å–Nacosé…ç½®ä¸­å¿ƒçš„é…ç½®æ–‡ä»¶"><a href="#è¯»å–Nacosé…ç½®ä¸­å¿ƒçš„é…ç½®æ–‡ä»¶" class="headerlink" title="è¯»å–Nacosé…ç½®ä¸­å¿ƒçš„é…ç½®æ–‡ä»¶"></a>è¯»å–Nacosé…ç½®ä¸­å¿ƒçš„é…ç½®æ–‡ä»¶</h4><ul><li><p>åœ¨Nacosåˆ›å»ºåŒä¸€é…ç½®æ–‡ä»¶</p><img src="/2021/07/13/nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/image-20210713173521686.png" class title="image-20210713173521686"></li><li><p>è¾“å…¥é…ç½®ä¿¡æ¯åŠé…ç½®å†…å®¹</p><img src="/2021/07/13/nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/image-20210713173649714.png" class title="image-20210713173649714"></li><li><p>Data IDçš„å®Œæ•´è§„åˆ™æ ¼å¼</p><p><strong>${prefix}-${spring.profile.active}.${file-extension}</strong></p><p><strong>- prefix</strong> é»˜è®¤ä¸ºæ‰€å±å·¥ç¨‹é…ç½®spring.application.name çš„å€¼ï¼ˆå³ï¼šnacos-providerï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®é¡¹ spring.cloud.nacos.config.prefixæ¥é…ç½®ã€‚</p><p><strong>- spring.profiles.active=dev</strong> å³ä¸ºå½“å‰ç¯å¢ƒå¯¹åº”çš„ profileã€‚ æ³¨æ„ï¼šå½“ spring.profiles.active ä¸ºç©ºæ—¶ï¼Œå¯¹åº”çš„è¿æ¥ç¬¦ - ä¹Ÿå°†ä¸å­˜åœ¨ï¼ŒdataId çš„æ‹¼æ¥æ ¼å¼å˜æˆ ${prefix}.${file-extension}</p><p><strong>- file-exetension</strong> ä¸ºé…ç½®å†…å®¹çš„æ•°æ®æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹ spring.cloud.nacos.config.file-extension æ¥é…ç½®ã€‚ç›®å‰åªæ”¯æŒ properties å’Œ yaml ç±»å‹ã€‚</p><p><strong>æ³¨</strong>ï¼šä½¿ç”¨Nacosçš„é…ç½®ä¸­å¿ƒéœ€è¦å¼•å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="å¯¹å•ä¸ªé…ç½®æ–‡ä»¶çš„è¯»å–"><a href="#å¯¹å•ä¸ªé…ç½®æ–‡ä»¶çš„è¯»å–" class="headerlink" title="å¯¹å•ä¸ªé…ç½®æ–‡ä»¶çš„è¯»å–"></a>å¯¹å•ä¸ªé…ç½®æ–‡ä»¶çš„è¯»å–</h4><p><strong>åˆ›å»ºé¡¹ç›®çš„bootstrap.properties/ymlæ–‡ä»¶ï¼Œç”¨äºå®šä¹‰ä¸€äº›ä¸€èˆ¬ä¸ä¼šå˜åŠ¨çš„å‚æ•°</strong></p><p>bootstrap.properties</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é…ç½®ä¸­å¿ƒåœ°å€</span></span><br><span class="line"><span class="meta">spring.cloud.nacos.config.server-addr</span>=<span class="string">127.0.0.1:8848</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è‹¥å­˜åœ¨profileï¼Œåˆ™dataIdçš„è¦åŠ ä¸Šè¯¥profile,proflie:dev(ç”Ÿäº§) ã€test(æµ‹è¯•)ã€prod(ç”Ÿäº§)</span></span><br><span class="line"><span class="comment">#spring.profiles.active=dev</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># è¯¥é…ç½®å½±å“ç»Ÿä¸€é…ç½®ä¸­å¿ƒä¸­çš„dataId</span></span><br><span class="line"><span class="meta">spring.application.name</span>=<span class="string">service-statistics</span></span><br></pre></td></tr></table></figure><p>bootstrap.yml</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">        <span class="attr">file-extension:</span> <span class="string">yaml</span></span><br><span class="line">        <span class="comment">#nacosæœåŠ¡åœ°å€</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="string">:8848</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="string">:8848</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">service-sta</span></span><br></pre></td></tr></table></figure><p><strong>è¡¥å……ï¼šspringbooté…ç½®æ–‡ä»¶åŠ è½½é¡ºåº</strong></p><p>å…¶å®ymlå’Œpropertiesæ–‡ä»¶æ˜¯ä¸€æ ·çš„åŸç†ï¼Œä¸”ä¸€ä¸ªé¡¹ç›®ä¸Šè¦ä¹ˆymlæˆ–è€…propertiesï¼ŒäºŒé€‰ä¸€çš„å­˜åœ¨ã€‚æ¨èä½¿ç”¨ymlï¼Œæ›´ç®€æ´ã€‚</p><p>bootstrapä¸application<br><strong>ï¼ˆ1ï¼‰åŠ è½½é¡ºåº</strong><br>è¿™é‡Œä¸»è¦æ˜¯è¯´æ˜applicationå’Œbootstrapçš„åŠ è½½é¡ºåºã€‚</p><p>bootstrap.ymlï¼ˆbootstrap.propertiesï¼‰å…ˆåŠ è½½<br>application.ymlï¼ˆapplication.propertiesï¼‰ååŠ è½½<br>bootstrap.yml ç”¨äºåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„å¼•å¯¼é˜¶æ®µã€‚</p><p>bootstrap.yml ç”±çˆ¶Spring ApplicationContextåŠ è½½ã€‚</p><p>çˆ¶ApplicationContext è¢«åŠ è½½åˆ°ä½¿ç”¨ application.yml çš„ä¹‹å‰ã€‚</p><p><strong>ï¼ˆ2ï¼‰é…ç½®åŒºåˆ«</strong><br>bootstrap.yml å’Œapplication.yml éƒ½å¯ä»¥ç”¨æ¥é…ç½®å‚æ•°ã€‚</p><p>bootstrap.yml å¯ä»¥ç†è§£æˆç³»ç»Ÿçº§åˆ«çš„ä¸€äº›å‚æ•°é…ç½®ï¼Œè¿™äº›å‚æ•°ä¸€èˆ¬æ˜¯ä¸ä¼šå˜åŠ¨çš„ã€‚<br>application.yml å¯ä»¥ç”¨æ¥å®šä¹‰åº”ç”¨çº§åˆ«çš„ã€‚</p><h4 id="åç§°ç©ºé—´åˆ‡æ¢ç¯å¢ƒ"><a href="#åç§°ç©ºé—´åˆ‡æ¢ç¯å¢ƒ" class="headerlink" title="åç§°ç©ºé—´åˆ‡æ¢ç¯å¢ƒ"></a>åç§°ç©ºé—´åˆ‡æ¢ç¯å¢ƒ</h4><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œé€šå¸¸æœ‰å¤šå¥—ä¸åŒçš„ç¯å¢ƒï¼ˆé»˜è®¤åªæœ‰publicï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¯ä»¥æ ¹æ®æŒ‡å®šçš„ç¯å¢ƒæ¥åˆ›å»ºä¸åŒçš„ namespceï¼Œä¾‹å¦‚ï¼Œå¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ä¸‰ä¸ªä¸åŒçš„ç¯å¢ƒï¼Œé‚£ä¹ˆä½¿ç”¨ä¸€å¥— nacos é›†ç¾¤å¯ä»¥åˆ†åˆ«å»ºä»¥ä¸‹ä¸‰ä¸ªä¸åŒçš„ namespaceã€‚ä»¥æ­¤æ¥å®ç°å¤šç¯å¢ƒçš„éš”ç¦»ã€‚</p><p><strong>åˆ›å»ºå‘½åç©ºé—´</strong>ï¼š</p><img src="/2021/07/13/nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/image-20210713175003006.png" class title="image-20210713175003006"><p>åœ¨ä¸åŒå‘½åç©ºé—´ä¸­ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä»å…¶å®ƒå‘½åç©ºé—´ä¸­å…‹éš†é…ç½®ï¼ˆæ¨èï¼‰ã€‚</p><h4 id="å¤šé…ç½®æ–‡ä»¶åŠ è½½"><a href="#å¤šé…ç½®æ–‡ä»¶åŠ è½½" class="headerlink" title="å¤šé…ç½®æ–‡ä»¶åŠ è½½"></a>å¤šé…ç½®æ–‡ä»¶åŠ è½½</h4><p>åœ¨ä¸€äº›æƒ…å†µä¸‹éœ€è¦åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶ã€‚å‡å¦‚ç°åœ¨devåç§°ç©ºé—´ä¸‹æœ‰ä¸‰ä¸ªé…ç½®æ–‡ä»¶ï¼šservice-statistics.propertiesã€redis.propertiesã€jdbc.properties</p><img src="/2021/07/13/nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/image-20210713175320743.png" class title="image-20210713175320743"><p><strong>æ·»åŠ é…ç½®ï¼ŒåŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶</strong></p><p>propertiesæ ¼å¼ï¼š</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">spring.cloud.nacos.config.server-addr</span>=<span class="string">127.0.0.1:8848</span></span><br><span class="line"></span><br><span class="line"><span class="meta">spring.profiles.active</span>=<span class="string">dev</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># è¯¥é…ç½®å½±å“ç»Ÿä¸€é…ç½®ä¸­å¿ƒä¸­çš„dataIdï¼Œä¹‹å‰å·²ç»é…ç½®è¿‡</span></span><br><span class="line"><span class="meta">spring.application.name</span>=<span class="string">service-statistics</span></span><br><span class="line"></span><br><span class="line"><span class="meta">spring.cloud.nacos.config.namespace</span>=<span class="string">13b5c197-de5b-47e7-9903-ec0538c9db01</span></span><br><span class="line"></span><br><span class="line"><span class="meta">spring.cloud.nacos.config.ext-config[0].data-id</span>=<span class="string">redis.properties</span></span><br><span class="line"><span class="comment"># å¼€å¯åŠ¨æ€åˆ·æ–°é…ç½®ï¼Œå¦åˆ™é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼Œå·¥ç¨‹æ— æ³•æ„ŸçŸ¥</span></span><br><span class="line"><span class="meta">spring.cloud.nacos.config.ext-config[0].refresh</span>=<span class="string">true</span></span><br><span class="line"><span class="meta">spring.cloud.nacos.config.ext-config[1].data-id</span>=<span class="string">jdbc.properties</span></span><br><span class="line"><span class="meta">spring.cloud.nacos.config.ext-config[1].refresh</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure><p>ymlæ ¼å¼ï¼š</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">        <span class="attr">file-extension:</span> <span class="string">yml</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="string">:8848</span></span><br><span class="line">        <span class="comment">#ä½¿ç”¨å‘½åç©ºé—´æ—¶éœ€è¦å¡«å†™</span></span><br><span class="line">        <span class="attr">namespace:</span> <span class="string">13b5c197-de5b-47e7-9903-ec0538c9db01</span></span><br><span class="line">        <span class="comment">#è¯»å–å¤šä¸ªé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">ext-config:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">dataId:</span> <span class="string">redis.properties</span></span><br><span class="line">            <span class="attr">group:</span> <span class="string">DEFAULT_GROUP</span></span><br><span class="line">            <span class="attr">refresh:</span> <span class="literal">true</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">dataId:</span> <span class="string">jdbc.properties</span></span><br><span class="line">            <span class="attr">group:</span> <span class="string">DEFAULT_GROUP</span></span><br><span class="line">            <span class="comment">#åŠ¨æ€åˆ·æ–°é…ç½®ï¼Œå¦åˆ™é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼Œæ— æ³•æ„ŸçŸ¥</span></span><br><span class="line">            <span class="attr">refresh:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="string">:8848</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">service-sta</span></span><br></pre></td></tr></table></figure><p>è¡¥å……ymlçš„ä¸€äº›ä¹¦å†™è§„åˆ™</p><p>æ•°ç»„ï¼š</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ•°ç»„</span></span><br><span class="line"><span class="attr">person:</span> </span><br><span class="line">  <span class="attr">name:</span> [<span class="string">zhangsan</span>,<span class="string">lisi</span>,<span class="string">wangwu</span>]</span><br><span class="line">  </span><br><span class="line"><span class="comment">#æˆ–</span></span><br><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">name:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">zhangsan</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">lisi</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ç‹äº”</span></span><br></pre></td></tr></table></figure><p>å¯¹è±¡/Map</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯¹è±¡</span></span><br><span class="line"><span class="attr">person:</span> &#123; <span class="attr">name:</span> <span class="string">zhansan</span>,<span class="attr">age:</span> <span class="number">18</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆ–</span></span><br><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">zhangsan</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> å¾®æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> å¾®æœåŠ¡ </tag>
            
            <tag> é…ç½®ä¸­å¿ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‰æ•°ä¹‹å’Œ</title>
      <link href="/2021/07/12/%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
      <url>/2021/07/12/%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<p><strong>é¢˜ç›®</strong>ï¼šç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]</span><br><span class="line">è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2:</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0]</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>0 &lt;= nums.length &lt;= 3000</code></li><li><code>-10^5 &lt;= nums[i] &lt;= 10^5</code></li></ul><h4 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h4><p>æ ¹æ®é¢˜ç›®çš„æè¿°ï¼Œè„‘å­ä¸­é—ªè¿‡çš„ç¬¬ä¸€ä¸ªå¿µå¤´å°±æ˜¯ä¸‰é‡å¾ªç¯æšä¸¾æ¯ä¸€ç§ç±»å‹ï¼Œä½†O($n^3$)çš„æ—¶é—´å¤æ‚åº¦ï¼Œè‚¯å®šæ˜¯è¿‡ä¸äº†çš„ã€‚å®åœ¨æƒ³ä¸å‡ºæ¥ã€‚ã€‚å°±å»çœ‹äº†é¢˜è§£ï¼Œæ€æƒ³ä¾æ—§æ˜¯æšä¸¾çš„æ€æƒ³ä½†é¢˜è§£é€šè¿‡åŒæŒ‡é’ˆçš„æ–¹å¼é™ä½äº†æ—¶é—´å¤æ‚åº¦ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO($n^2$)ã€‚</p><p><strong>é¢˜è§£çš„åŒå‘æŒ‡é’ˆçš„æ€æƒ³ï¼š</strong></p><p>é¦–å…ˆæŠŠæ•°ç»„è¿›è¡Œä¸€æ¬¡æ’åºï¼Œæ–¹ä¾¿åé¢è¿›è¡Œæšä¸¾ã€‚æ’åºè¿‡åï¼Œæ¥ä¸‹æ¥å°±è¿›è¡Œæšä¸¾ï¼Œå…ˆè¿›è¡Œç¬¬ä¸€å±‚æšä¸¾ï¼Œä»æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¿›è¡Œæšä¸¾ï¼Œå°†ç¬¬ä¸€å±‚éå†çš„ä¸‹æ ‡å®šä¹‰ä¸ºaï¼›ç¬¬äºŒå±‚æšä¸¾ï¼ˆå®šä¹‰ä¸‹æ ‡ä¸ºbï¼‰éœ€è¦ä»æ¯”aå¤§çš„å…ƒç´ å¼€å§‹ä¸”ç›¸è¿çš„ä¸¤ä¸ªå…ƒç´ ä¸èƒ½ç›¸åŒï¼ˆaä¹Ÿå¦‚æ­¤ï¼‰ï¼Œå…¶ç›®çš„æ˜¯é¿å…é‡å¤çš„é›†åˆã€‚ä¾‹å¦‚[1,2,3,3,3,9]ï¼Œè‹¥ä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ç›¸åŒï¼Œa=0ï¼Œb=2æ—¶ï¼Œå¾—åˆ°çš„é›†åˆä¸º<code>[1,3]</code>,ä½†å½“b=3æ—¶ï¼Œå¾—åˆ°çš„é›†åˆä¹Ÿä¸º<code>[1,3]</code>è¿™æ ·å°±ä¼šå¯¼è‡´æ‰€å¾—çš„é›†åˆé‡å¤ã€‚è§£å†³é‡å¤çš„é—®é¢˜åï¼Œå®šä¹‰ä¸€ä¸ªtargetï¼šæŒ‡ç¬¬ä¸‰å±‚çš„æšä¸¾ï¼Œä¹Ÿæ˜¯åŒæŒ‡é’ˆçš„å…¶ä¸­ä¹‹ä¸€ã€‚è‹¥aä¸å˜ï¼Œbå‘å³è¾¹ç§»åŠ¨ï¼Œé‚£ä¹ˆéšç€bçš„å¢å¤§ï¼Œç¬¬ä¸‰å±‚æšä¸¾çš„å€¼æ˜¯éœ€è¦å‡å°çš„ï¼Œå› æ­¤åŒæŒ‡é’ˆæ­£å¥½èƒ½æ»¡è¶³æšä¸¾è¦æ±‚ã€‚ä¸€ä¸ªä»å°åˆ°å¤§ï¼Œä¸€ä¸ªä»å¤§åˆ°å°ï¼Œå½“åŒæŒ‡é’ˆç›¸ç­‰æ—¶ç»“æŸæ—¶ï¼Œè·³å‡ºå¾ªç¯ã€‚</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> n=nums.length;</span><br><span class="line">        <span class="keyword">if</span>(n&lt;=<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é¢„æ’åº</span></span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line"></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//æšä¸¾</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>&amp;&amp;nums[i-<span class="number">1</span>]==nums[i])&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å®šä¹‰ä¸€ä¸ªæŒ‡å‘æœ€å³ç«¯çš„æŒ‡é’ˆ</span></span><br><span class="line">            <span class="keyword">int</span> right=n-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> target=-nums[i];</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æšä¸¾j</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;i+<span class="number">1</span>&amp;&amp;nums[j]==nums[j-<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//æ‰¾åˆ°a+b+c&lt;=0çš„æƒ…å†µ</span></span><br><span class="line">                <span class="keyword">while</span>(j&lt;right&amp;&amp;nums[j]+nums[right]&gt;target)&#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//è‹¥j==righté‚£ä¹ˆåé¢ä¸å¯èƒ½å†æœ‰a+b+c&lt;=0ä¸”b&lt;cçš„æƒ…å†µ</span></span><br><span class="line">                <span class="keyword">if</span>(j==right)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(nums[j]+nums[right]==target)&#123;</span><br><span class="line">                    List&lt;Integer&gt; list1=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                    list1.add(nums[i]);</span><br><span class="line">                    list1.add(nums[j]);</span><br><span class="line">                    list1.add(nums[right]);</span><br><span class="line"></span><br><span class="line">                    list.add(list1);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</strong></p><p>æšä¸¾çš„è¿‡ç¨‹æ¯ä¸€æ­¥ä¸­ï¼Œã€Œå·¦æŒ‡é’ˆã€ä¼šå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼ˆä¹Ÿå°±æ˜¯é¢˜ç›®ä¸­çš„ bï¼‰ï¼Œè€Œã€Œå³æŒ‡é’ˆã€ä¼šå‘å·¦ç§»åŠ¨è‹¥å¹²ä¸ªä½ç½®ï¼Œè¿™ä¸ªä¸æ•°ç»„çš„å…ƒç´ æœ‰å…³ï¼Œä½†æˆ‘ä»¬çŸ¥é“å®ƒä¸€å…±ä¼šç§»åŠ¨çš„ä½ç½®æ•°ä¸º Næ¬¡ï¼Œæ‰€ä»¥ç¬¬äºŒå±‚æšä¸¾å’Œç¬¬ä¸‰å±‚æšä¸¾çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n),æšä¸¾çš„å¤æ‚åº¦ä¸ºO($n^2$),é¢„æ’åºæ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO($n^2$)</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼š</strong></p><p>åªå®šä¹‰äº†ä¸€ä¸ªListï¼Œç©ºé—´å¤æ‚åº¦O(n)</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³•,leetcode,ä¸­ç­‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/07/10/hello-world/"/>
      <url>/2021/07/10/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">listen       9001;</span><br><span class="line">server_name  localhost;</span><br><span class="line"></span><br><span class="line">location ~ /eduService/ &#123;</span><br><span class="line">proxy_pass http://localhost:8001;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ /eduoss/ &#123;</span><br><span class="line">proxy_pass http://localhost:8002;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ /eduvod/ &#123;</span><br><span class="line">proxy_pass http://localhost:8003;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ /educms/ &#123;</span><br><span class="line">proxy_pass http://localhost:8004;</span><br><span class="line">&#125;</span><br><span class="line">location ~ /edumsm/ &#123;</span><br><span class="line">proxy_pass http://localhost:8005;</span><br><span class="line">&#125;</span><br><span class="line">location ~ /educenter/ &#123;</span><br><span class="line">proxy_pass http://localhost:8160;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ /api/ &#123;</span><br><span class="line">proxy_pass http://localhost:8160;</span><br><span class="line">&#125;</span><br><span class="line">location ~ /eduorder/ &#123;</span><br><span class="line">proxy_pass http://localhost:8006;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ /staservice/ &#123;</span><br><span class="line">proxy_pass http://localhost:8007;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ /admin/acl/ &#123;</span><br><span class="line">proxy_pass http://localhost:8010;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
